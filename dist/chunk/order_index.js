(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"112":function(e,t,n){},"114":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(132),i=n(24),a=n.n(i),c=n(22),u=n.n(c),s=n(25),l=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}var f={"normal":"normal","small":"small"},p={"primary":"primary"},d=function(e){function AtTag(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtTag),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtTag.__proto__||Object.getPrototypeOf(AtTag)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtTag,s["a"]),l(AtTag,[{"key":"onClick","value":function onClick(e){this.props.disabled||this.props.onClick&&this.props.onClick({"name":this.props.name,"active":this.props.active},e)}},{"key":"render","value":function render(){var e,t=this.props,n=t.size,i=void 0===n?"normal":n,a=t.type,c=void 0===a?"":a,s=t.circle,l=void 0!==s&&s,d=t.disabled,y=void 0!==d&&d,b=t.active,m=void 0!==b&&b,h=t.customStyle,O=(_defineProperty(e={},"at-tag--"+f[i],f[i]),_defineProperty(e,"at-tag--"+c,p[c]),_defineProperty(e,"at-tag--disabled",y),_defineProperty(e,"at-tag--active",m),_defineProperty(e,"at-tag--circle",l),e);return r.j.createElement(o.a,{"className":u()(["at-tag"],O,this.props.className),"style":h,"onClick":this.onClick.bind(this)},this.props.children)}}]),AtTag}();d.defaultProps={"size":"normal","type":"","name":"","circle":!1,"active":!1,"disabled":!1,"customStyle":{},"onClick":function onClick(){}},d.propTypes={"size":a.a.oneOf(["normal","small"]),"type":a.a.oneOf(["","primary"]),"name":a.a.string,"circle":a.a.bool,"active":a.a.bool,"disabled":a.a.bool,"customStyle":a.a.oneOfType([a.a.object,a.a.string]),"onClick":a.a.func}},"15":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return m});var r=n(0),o=n(1),i=n(138),a=n(132),c=n(133),u=n(136),s=n(114),l=n(28),f=n(26),p=n(44),d=(n(112),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),y=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),b=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(n):void 0};var m=function(e){function Index(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).call(this,e));return t.getOrders=function(){Object(l.c)().then(function(e){t.setState({"list":e.records||[]})})},t.config={"navigationBarTitleText":"订单管理"},t.entryfunc=function(){o.a.navigateTo({"url":"/pages/index/index"})},t.getName=function(e){return["接单","派送","已送达","完结"][e]},t.evHandle=function(e,n){n>2||Object(l.i)(d({},e,{"status":n+1})).then(function(e){Object(i.d)({"title":["已接单","赶紧去派送吧","已送达","订单已关闭"][n],"icon":"success"}),t.getOrders()})},t.evDelOrder=function(e){Object(l.b)(e).then(function(e){Object(i.d)({"title":"删除成功","icon":"success"})})},t.state={"list":[]},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,o["a"].Component),y(Index,[{"key":"componentDidMount","value":function componentDidMount(){this.getOrders()}},{"key":"render","value":function render(){var e=this;return r.j.createElement(a.a,{"className":"m-order"},r.j.createElement(f.a,{"title":"订单","icon":"home","entryfunc":this.entryfunc}),r.j.createElement(a.a,{"className":"content"},this.state.list.map(function(t){return r.j.createElement(u.a,{"note":"备注："+t.foodStyle,"title":t.foodName,"extra":[r.j.createElement(s.a,{"onClick":function onClick(){return e.evHandle(t,t.status)},"circle":!0,"active":3!=t.status},r.j.createElement(a.a,{"className":"at-icon at-icon-"+["bell","map-pin","share-2","check"][t.status]})," ",e.getName(t.status))]},r.j.createElement(a.a,{"className":"room"},"房间号:",r.j.createElement(c.a,null,t.roomNum)),r.j.createElement(a.a,{"className":"tel"},"联系方式：",r.j.createElement(c.a,null,t.tel)))})),r.j.createElement(p.a,{"current":0,"back":!0}))}},{"key":"componentDidShow","value":function componentDidShow(){b(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this)&&b(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){b(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&b(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}()},"26":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(1),i=n(131),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var u=function(e){function NavBar(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NavBar),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(NavBar.__proto__||Object.getPrototypeOf(NavBar)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(NavBar,o["a"].Component),c(NavBar,[{"key":"render","value":function render(){var e=this.props;return r.j.createElement(i.a,a({},e,{"onClickRgIconSt":e.entryfunc||function entryfunc(){o.a.navigateTo({"url":"/pages/order/index"})},"color":"#000","title":e.title,"rightFirstIconType":e.icon}))}}]),NavBar}()},"28":function(e,t,n){"use strict";var r,o=n(138),i=n(135);function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}var a={"SUCCESS":200,"CONTINUE":400,"WRONG_PARAM":401,"WRONG_REQUEST":402,"FORBIDDEN":403,"WRONG_URL":404,"NO_LOGIN":406,"TIME_OUT":408,"WRONG_SERVER":500,"WRONG_REALIZE":501,"WRONG_GATEWAY":502,"BAD_SERVER":503,"GATEWAY_TIME_OUT":504,"WRONG_VERSION":505},c=(_defineProperty(r={},a.SUCCESS,"成功"),_defineProperty(r,a.CONTINUE,"继续"),_defineProperty(r,a.WRONG_PARAM,"参数格式出错"),_defineProperty(r,a.WRONG_REQUEST,"请求出错"),_defineProperty(r,a.FORBIDDEN,"拒绝访问"),_defineProperty(r,a.WRONG_URL,"请求地址出错"),_defineProperty(r,a.NO_LOGIN,"未登录"),_defineProperty(r,a.TIME_OUT,"请求超时"),_defineProperty(r,a.WRONG_SERVER,"服务器内部错误"),_defineProperty(r,a.WRONG_REALIZE,"服务未实现"),_defineProperty(r,a.WRONG_GATEWAY,"网关错误"),_defineProperty(r,a.BAD_SERVER,"服务不可用"),_defineProperty(r,a.GATEWAY_TIME_OUT,"网关超时"),_defineProperty(r,a.WRONG_VERSION,"HTTP版本不受支持"),r),u=function showError(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&Object(o.d)({"title":e||"请求异常","icon":"none"}),Promise.reject(e)},s=function baseOptions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=e.url,r=e.data,a=e.showLoading,c="application/json";c=e.contentType||c;var u={"url":n.includes("http")||n.includes("https")?n:""+n,"data":r,"method":t,"header":{"content-type":c}};return a&&Object(o.b)({"title":"loading"}),Object(i.b)(u)};Object(i.a)(function customInterceptor(e){var t=e.requestParams;return e.proceed(t).catch(function(e){return Object(o.a)(),u(e.message)}).then(function(e){console.log(e),Object(o.a)();var t=e.statusCode,n=e.data||{},r=n.code?n.code:t;return[a.SUCCESS,a.CONTINUE].includes(r)?Promise.resolve(n.data||{}):u(n.message||c[r])})});var l=function get(e){return s(e)},f=function post(e){return s(e,"POST")},p=function put(e){return s(e,"PUT")},d=function del(e){return s(e,"DELETE")};n.d(t,"d",function(){return y}),n.d(t,"g",function(){return b}),n.d(t,"i",function(){return m}),n.d(t,"b",function(){return h}),n.d(t,"e",function(){return O}),n.d(t,"c",function(){return _}),n.d(t,"f",function(){return v}),n.d(t,"a",function(){return g}),n.d(t,"h",function(){return P});var y=function getFoodList(e){return l({"url":"http://admin.ksfmaster.com/endpoint/food/","data":e})},b=function postOrder(e){return f({"url":"http://admin.ksfmaster.com/endpoint/order/order","data":e})},m=function updateOrder(e){return p({"url":"http://admin.ksfmaster.com/endpoint/order/","data":e})},h=function delOrder(e){return d({"url":"http://admin.ksfmaster.com/endpoint/order/"+e})},O=function getMyOrder(e){return l({"url":"http://admin.ksfmaster.com/endpoint/order/"+e})},_=function getAllOrder(){return l({"url":"http://admin.ksfmaster.com/endpoint/order/"})},v=function postFood(e){return f({"url":"http://admin.ksfmaster.com/endpoint/food/","data":e})},g=function delFood(e){return d({"url":"http://admin.ksfmaster.com/endpoint/food/"+e})},P=function updateFood(e){return p({"url":"http://admin.ksfmaster.com/endpoint/food/","data":e})}},"44":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(1),i=n(132),a=n(140),c=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var s=[{"title":"订单","iconType":"bullet-list"},{"title":"套餐管理","iconType":"folder"}],l=function(e){function Tabber(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Tabber),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Tabber.__proto__||Object.getPrototypeOf(Tabber)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Tabber,o["a"].Component),u(Tabber,[{"key":"render","value":function render(){var e=this.props,t=o.a.useState(e.current||0),n=c(t,2),u=n[0],l=n[1],f=o.a.useCallback(function(e){if(e!==u)switch(l(u),e){case 0:o.a.redirectTo({"url":"/pages/order/index"});break;case 1:o.a.redirectTo({"url":"/pages/food/index"})}},[u]);return r.j.createElement(i.a,null,r.j.createElement(a.a,{"fixed":!0,"tabList":s,"onClick":f,"current":u}))}}]),Tabber}()}}]);